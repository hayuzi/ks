经历过的面试题
==

### 1. 某公司Golang
- 讲解一下Go语言与PHP有什么区别
- Go 语言的协程解决了什么问题，协程运行原理
- 并发锁争用的问题
- 协程的GMP模型
- channel以及Mutex的实现方式，源码与原理
- Go 语言的面向对象编程方式（怎么实现封装、继承、多态）
- Go 语言的Interface
- Redis选择一种数据结构并描述实现方式
- Redis的高可用、实现方式、哨兵、集群，有了哨兵为什么还要有集群
- 关系型数据库的基础知识
- MySQL索引以及事务要素、事务隔离级别与实现方式
- ES使用的坑与解决方法、查询语句发送到ES后内部的实现流程


### 某公司Golang
一面：
- 基本自我介绍，项目介绍
- 简单算法，固定区间随机数推导全范围随机数
- 项目整体设计，MQ相关问题，多平台打包问题处理

二面：
- 基本自我介绍，项目介绍，开整
- channel的源码分析，select源码
- 简单算法：字符串反转，中间有空的保持位置不变（双指针）
- Redis的相关数据结构与内容
- Go 语言的channel实现，select功能以及实现
- Mysql问题，索引，B+树，聚簇索引

三面：
- 自我介绍，问写Go语言经历有多久
- 指针是什么，指针的指针是什么
- Java会不会
- 聊最近学习什么
- 问线程与协程的区别
- Go语言协程模型结构理解
- 手写Go语言的websocket服务

### 某公司PHP
一面：
- 自我介绍、项目介绍、承担职责
- 整体的业务设计
- 数据库相关知识
- 缓存Redis的相关数据结构与常用问题
- 索引优化以及数据库优化（隔离级别）

二面：
- 简单自我介绍，项目介绍
- 上来了解公司业务人员组成与自我职责确认
- 项目中的分布式事务，指出我只做到了最终一致性
- 业务中的幂等设计、MQ应用
- 聊个人优点缺点


### 某公司PHP
笔试题目：
- javascript的this作用域问题
- 4的倍数的二进制字符，用正则匹配
- 0两个时间的间隔天数
- 从url中提取文件后缀
- PHP的session/cookie机制
- SQL注入与CSRF是什么，怎么预防与处理
- 简单数据库设计与索引设计的实战题目

一面：
- 简单自我介绍，项目介绍
- Redis的运用，缓存与业务的流量
- 分布式最终一致性问题的压测，高并发下的最终效果问题
- 消息队列的顺序性问题
- Redis跳表结构、字符串底层实现（SDS优点 我只提到了2点）
- Redis集群原理，我们用的是什么，阿里云的是啥（ codis ？）
- 数据库索引B+树的原理，如何设计索引
- 索引优化都做了那些方面的处理，简单说了一些原则以及需要结合业务
- swoole与go的一些异同（简单说了说）

二面：（记不清了）：
- 自我介绍与项目介绍，职责承担
- 管理的原因与计划
- 项目架构的描述与解决的问题
- Go的简单了解与描述
- mongo使用中遇到的坑（PHP扩展连接不能关闭 / 集群方式与连接/数据类型问题）
- 业务中用到了哪些设计模式
- 跳槽目的与后续规划


### 某公司PHP
一面：
- 自我介绍与项目介绍
- 5个亿用户表，数据表设计与登陆优化（热点数据缓存、Redis数据结构应用）
- 数据库索引原理B+树，隔离级别
- 分布式事务基本原理（TCC具体步骤、其他方案）
- Redis删除策略（定时删除、惰性删除、定期删除）和数据逐出策略
- Redis单线程的优势与劣势（无锁竞以及线程切换开销、命令阻塞keys）
- 2W QPS的流式新闻列表页展示设计（key设计、数据结构设计、缓存应用）
- Nginx进程模型、php-fpm的进程模型、swoole进程模型的区别联系，各个进程负责的任务
- 遇到的最大QPS以及相关方案
- Nginx惊群效应与解决（待深入）
- Mysql的主从复制，延迟怎么处理
- I/O多路复用（select/poll/epoll原理与基本实现）
- 进程线程区别与进程内存模型结构
- PHP数组底层的实现、如何实现的弱类型
- Elasticsearch的一些问应用问题，顺带在说项目中遇到的难点的时候说了 ES的内置的 分词器构造（nGrm）
- PHP如何去实现长连接（redis pconnect / mysql ）

二面：
- 自我介绍与项目介绍
- 管理问题（如何定量员工工作与绩效）
- 公司各种产品线业务的自我理解
- PHP运行原理，包括fastcig与普通cli运行模式
- zend引擎的作用，主要是用来干什么的
- PHP扩展的加载与运行机制
- PHP的不同版本区别（PHP8有哪些新特性）
- opcache的原理以及JIT的原理（https://zhuanlan.zhihu.com/p/144207798）
- 插入算法题目（某动物生命周期12345，每偶数年复制一只，被复制体与此相同，问N年后的存活总数）
- 微博大V消息流处理问题，千万粉丝的大V动态设计（Redis集群使用、消息流推模式与拉模式、粉丝时间线设计）
- 小算法：手机号偶数加密替换
- PHP简单语法知识 interface / 抽象类 / trait（手册上就有）
- 注解问题，反射，简单聊了聊框架的切面与注解都与反射有关联（ThinkPHP）
- 跳槽目的与考量，自我职业规划


### 某大公司PHP
- 简单自我介绍
- Restful相关知识 (理论（ES）、项目实际应用)
- Swoole网络编程的500请求错误问题如何排查
- TCP连接过多问题，以及排查方法，如工具
- Redis热点key问题处理，如何保证数据一致性
- Go并发编程原理（CSP通信顺序进程模型，以通信的方式实现共享内存）
- 进程、线程知识（需要很深入，不能有一丝模糊概念）
- Redis单线程性能，以及线程的事件模型
- Redis的RDB持久化流程


### 某大公司PHP
一：
- 自我介绍，项目介绍
- 项目中重点难点部分（最终一致性、ES最初使用的经历体验 分词 nGrm的处理）
- 虚拟货币跨库最终一致性设计，整体业务流程问的很详细，流程一定要特别详细
- MQ消费的不丢失如何保证，幂等性如何保证，cron的补偿如何保证
- 接口幂等的常用处理方式方法
- 直接开面排序算法（冒泡、快速、桶、计数、归并）
- 算法复杂度计算方式以及最终采用级别的相关原理，以上几个算法复杂度依次递进以及大数据量的处理
- 操作系统主要由那几个模块，如果让你设计，你觉得需要包含那些内容
- 进程管理一般都有那些Linux操作命令
- 都有哪些进程调度算法（FIFS、RR、等等）
- 计算机基础问题排查如何做
- OSI七层网络模型（或者5层分法）
- 应用层协议都有哪些（：HTTP FTP TFTP SMTP SNMP DNS TELNET HTTPS POP3 DHCP）
- HTTP协议有什么优点（我讲了基本的两个优点）
- HTTP的其他优点呢？我没说出来，自主说了缺点以及相应的HTTPS、HTTP2、HTTP3演进
- HTTP的请求方法有哪些，各自有什么意义，哪些请求方法是幂等的
- MySQL数据库的组成，有那些层次、SQL的执行计划索引选择是在哪一层决定的
- SQL索引数据结构，为什么要这么设计
- 数据库引擎以及 隔离级别有哪几种，有什么区别
- MVCC主要是为了解决什么问题，间隙锁解决什么问题，幻读产生的原因
- 当前读和快照读有什么区别，哪些情况下会产生当前读
- 设计模式都有哪些，业务中都用过哪些
- 单例模式都解决了什么问题，在多线程情况下怎么实现（java或者go）

二（该处问题因为项目偏重调整）：
- Go语言学习初衷
- 语言的了解，PHP以及Go的区别优势以及常用场景
- Go 语言的协程解决了什么问题
- PHP 5.6 到 7.0 做了哪些优化，带来了哪些提升
- ES的使用场景，以及为了解决的问题
- 关于经纬度的处理，还有那些工具或者中间件可以实现
- 整体上一个2W QPS的项目基础设计问题，使用分治思想
- 前后端分离/多级缓存架构/CDN/负载均衡/中间件/分库分表/服务拆分/网关层/文件服务器/缓存一致性问题）
- 分库分表思路，1亿用户的拆分，ID取模，2的倍数。分库分表代理层实现，热点数据分析并更新到缓存
- RabbitMQ引入系统，解决的问题是什么（削峰，解耦）
- MQ所带来的幂等问题如何解决，常用方式
- Redis缓存内容用满之后，会发生什么情况
- 是否有文档，一般文档谁记录，开发文档所包含的内容
- 文档记录的问题主要谁负责，谁落实，作用体现在哪里
- 公司项目人员组成，整体人员匹配度的问题
- 因为我提到的测试人员偏少，又给我引出测试重要性以及 内部管理上下沟通反馈并执行的问题
- 单元测试（UT）/ 代码审计（CR）的作用
- 项目代码规范用的哪些，该如何保证实施
- 整体需求评审开发流程
- 项目分布式部署涉及到监控问题，用哪些监控工具 ELK
- 日志的重要性，以及让你个人设计一个监控工具你该设计采集哪些指标
- 分布式系统调用链问题的设计，唯一标志，全链路追踪，可视化

### 某公司Golang
- 简单自我介绍、项目架构
- 网关以及负载均衡怎么用的
- Nginx使用的是什么方式，php-fpm以及nginx的组合
- MySQL的隔离级别细节，RR以及RC有什么区别，在两个隔离级别下，事务的实际数据读取效果（MVCC的实现细节）
- SQL的索引设置，以及原理，联合索引 基于区分度的索引建立
- RabbitMQ中 exchange 与 queue 的路由绑定方式（topic、deirect、fanout）
- RabbitMQ的topic方式下的消息投递机制，topic下路由的 ‘#’ 与 ‘*’ 各代表什么意思
- "*"号代表任意一个单词
- "#"号代表0个或多个单词
- 一个算法题：给一个随机数字数组，有正负数，要求最终排序正数在前，负数在后，正数的排序为正序，负数的排序为反序，问该如何排序
- 思路，先使用双指针的方式，将正负数分组，而后每个分组各自排序即可（刚开始我说的分成两个数组，面试官提示空间复杂度优化，想到双指针方式）
- 讲述刚才这个算法思路的时间复杂度以及空间复杂度
- 让我提问


### 某大公司（Go）
- 简单自我介绍，项目架构与工作职责
- Go上来就问channel的有缓冲和无缓冲队列
- 相应队列的发送者和接受者的阻塞问题
- 使用 for range 的方式访问 channel 什么时候会触发读取
- 我引申了Golang的channel底层实现（内部循环队列和锁）
- channel数据传递是内存拷贝还是非内存拷贝
- sync包中的sync.map 和 sync.pool的的实现（线程安全，可以引申内部实现）
- MySQL数据库引擎的问题
- MySQL版本区别（8.0和5.7）
- InnoDB的索引结构与实现
- B+树，B+树的优点以及缺点（写入转换会比较复杂等等）
- MySQL的索引查询优化 explain的结果中，关注哪些字段，type到哪个值是我们期待的
- MySQL的InnoDB的锁，行锁和表锁，哪些情况下使用哪些锁
- 遇到比较分散的ID数据插入，我们适合使用什么样的索引类型
- Redis的常用数据类型
- 数据类型底层实现
- zset的数据获取值的分值的命令是什么，时间复杂度是多少
- Redis的分布式锁实现，以及分布式锁会遇到的问题与解决方案
- 引申了基于zookeeper的分布式锁实现
- HTTP请求的GET/POST区别
- HTTP1.1和HTTP2版本区别
- HTTPS的握手过程（记不清了）
- TCP粘包拆包问题（我说了基本原理，数据帧，在应用层编程需要拆成不同批次的数据，来确认属于哪一次请求）
- TCP连接中有个 timewait状态，在哪个过程会出现
- 在四次挥手的哪个过程（我记不清）
- 算法一道题目（已经放水了，问我会不会二叉查找树的题）
- // 该题目理论上应该能达到On的复杂度
- 从指定十进制数组中去掉m个数字，希望留下的结果最大。
- 例如：指定 345271 ，m=1 res=45271， m=2 res=5271


